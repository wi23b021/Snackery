<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <title>Adminbereich – Snackery</title>

    <!-- Zentrales Stylesheet für Layout und Farben -->
    <link rel="stylesheet" href="../res/css/style.css">

    <!-- Prüft per fetch(), ob ein Admin eingeloggt ist -->
    <script src="../js/session-check.js" defer></script>
</head>

<body>

    <!-- ===== HEADER ===== -->
    <header>
        <div class="logo">
            <!-- Logo verlinkt zur Startseite -->
            <a href="index.html">
                <img src="../res/img/snackery-logo.jpg" alt="Snackery Logo">
            </a>
        </div>

        <!-- Navigation für Admins -->
        <nav>
            <ul>
                <li><a href="index.html">Startseite</a></li>
                <li><a href="products.html">Produkte</a></li>
                <li><a href="admin.html">Adminbereich</a></li>
                <li><a href="profil.html">Mein Profil</a></li>
                <li><a href="#" id="logoutBtn">Logout</a></li>
            </ul>
        </nav>
    </header>

    <!-- ===== HAUPTBEREICH ===== -->
    <main>
        <div class="profile-container">
            <h2>Willkommen im Adminbereich</h2>
            <p>Hier kannst du deinen Online-Shop verwalten:</p>

            <!-- Navigationslinks zu allen Admin-Seiten -->
            <ul style="list-style: none; padding: 0; text-align: center;">
                <li style="margin-bottom: 20px;">
                    <a class="btn" href="admin_products.html">Produkte verwalten</a>
                </li>
                <li style="margin-bottom: 20px;">
                    <a class="btn" href="admin_orders.html">Bestellungen verwalten</a>
                </li>
                <li style="margin-bottom: 20px;">
                    <a class="btn" href="admin_users.html">Benutzer verwalten</a>
                </li>
            </ul>
        </div>
    </main>

    <!-- ===== FUSSZEILE ===== -->
    <footer>
        <div class="footer-content">
            <p>&copy; 2025 Snackery</p>
            <div class="footer-links">
                <a href="impressum.html">Impressum</a>
                <a href="hilfe.html">Hilfe</a>
            </div>
        </div>
    </footer>

    <!-- ===== LOGOUT-PER-FETCH ===== -->
    <script>
        document.getElementById("logoutBtn").addEventListener("click", function(e) {
            e.preventDefault();

            // Logout über API – löscht Session und leitet zurück zur Startseite
            fetch("/Snackery/Backend/logout.php", {
                    credentials: "include"
                })
                .then(res => res.json())
                .then(data => {
                    if (data.success) {
                        window.location.href = "index.html";
                    } else {
                        alert("❌ Logout fehlgeschlagen.");
                    }
                })
                .catch(() => {
                    alert("❌ Serverfehler beim Logout.");
                });
        });
    </script>

</body>

</html>