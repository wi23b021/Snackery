<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrierung ‚Äì Snackery</title>

    <!-- Stylesheet f√ºr das Design -->
    <link rel="stylesheet" href="../res/css/style.css">

    <!-- JavaScript zur Validierung des Formulars -->
    <script defer src="../js/register-validation.js"></script>
</head>

<body>

    <!-- ========== HEADER ========== -->
    <header>
        <div class="logo">
            <!-- Klickbares Logo zur Startseite -->
            <a href="../../index.html">
                <img src="../res/img/snackery-logo.jpg" alt="Snackery Logo">
            </a>
        </div>

        <!-- Navigation ohne PHP -->
        <nav>
            <ul>
                <li><a href="../../index.html">Startseite</a></li>
                <li><a href="products.html">Produkte</a></li>
                <li><a href="cart.html">Warenkorb</a></li>
                <li><a href="login.html">Login</a></li>
                <li><a href="register.html">Registrieren</a></li>
            </ul>
        </nav>
    </header>

    <!-- ========== REGISTRIERUNGSBEREICH ========== -->
    <main>
        <div class="register-container">
            <h2>Registrieren</h2>

            <!-- üö® Fehlerbox (wird per JS bef√ºllt, wenn Fehler in der URL sind) -->
            <div id="errorBox" style="color: red; font-weight: bold; margin-bottom: 15px;"></div>

            <!-- Registrierungsformular -->
            <form action="../../Backend/register.php" method="POST" id="registerForm">

                <!-- Vorname -->
                <input type="text" name="firstname" placeholder="Vorname" required>

                <!-- Nachname -->
                <input type="text" name="lastname" placeholder="Nachname" required>

                <!-- Benutzername -->
                <input type="text" name="username" placeholder="Benutzername" required>

                <!-- E-Mail-Adresse -->
                <input type="email" name="email" placeholder="E-Mail-Adresse" required>

                <!-- Adresse -->
                <input type="text" name="street" placeholder="Stra√üe" required>
                <input type="text" name="housenumber" placeholder="Hausnummer" required>
                <input type="text" name="postalcode" placeholder="PLZ" required>
                <input type="text" name="city" placeholder="Ort" required>

                <!-- Passwort -->
                <input type="password" name="password" placeholder="Passwort" required>
                <input type="password" name="password_repeat" placeholder="Passwort wiederholen" required>

                <!-- Absenden -->
                <button type="submit">Registrieren</button>
            </form>
        </div>
    </main>

    <!-- ========== FOOTER ========== -->
    <footer>
        <div class="footer-content">
            <p>&copy; 2025 Snackery</p>
            <div class="footer-links">
                <a href="impressum.html">Impressum</a>
                <a href="hilfe.html">Hilfe</a>
            </div>
        </div>
    </footer>

    <!-- üîç Fehler-Analyse & Anzeige via URL -->
    <script>
        const params = new URLSearchParams(window.location.search);
        const error = params.get("error");
        const box = document.getElementById("errorBox");

        if (error === "passwort") {
            box.textContent = "‚ùå Die Passw√∂rter stimmen nicht √ºberein.";
        } else if (error === "existiert") {
            box.textContent = "‚ùå Benutzername oder E-Mail ist bereits vergeben.";
        } else if (error === "datenbank") {
            box.textContent = "‚ùå Ein Fehler bei der Registrierung ist aufgetreten. Bitte versuche es erneut.";
        }
    </script>

</body>

</html>